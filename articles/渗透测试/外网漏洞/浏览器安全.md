---
title: 浏览器安全
date: 2023-09-03T15:29:52+08:00
updated: 2023-03-18T23:54:52+08:00
categories: 
- 渗透测试
- 外网漏洞
---

# 1.浏览器安全



## 1.1 同源策略（Same-origin policy）

维基百科上的解释为：

是指在Web浏览器中，允许某个网页脚本访问另一个网页的数据，但前提是这**两个网页必须有相同的URI、主机名和端口号**，一旦两个网站满足上述条件，这两个网站就被认定为具有相同来源。此策略可防止某个网页上的恶意脚本通过该页面的文档对象模型访问另一网页上的敏感数据。

同源策略对Web应用程序具有特殊意义，因为Web应用程序广泛依赖于HTTP cookie来维持用户会话，所以必须将不相关网站严格分隔，以防止丢失数据泄露。

值得注意的是同源策略仅适用于脚本，**这意味着某网站可以通过相应的HTML标签访问不同来源网站上的图像、CSS和动态加载脚本等资源。而跨站请求伪造就是利用同源策略不适用于HTML标签的缺陷。**

同样的也举例子来说明以下几个网站是否同源：

![same-origin](E:\笔记软件\笔记\same-origin.png)

值得注意的是，浏览器中

<script>、<img>、<iframe>、<link>

等标签都可以跨域加载资源，所以造成了我们可以利用标签漏洞和过滤不严格加载恶意资源；各类插件也有自己的同源策略，通过识别一些特定的文件来决定是否允许跨域加载资源；

## 1.2 sandbox

根据维基百科：

沙盒(sandbox)是一种安全机制，为执行中的程序提供隔离环境。通常是作为一些来源不可信、具破坏力或无法判定程序意图的程序提供实验之用[[1\]](https://zh.wikipedia.org/wiki/沙盒_(電腦安全)#cite_note-1)。

沙盒通常严格控制其中的程序所能访问的资源，比如，沙盒可以提供[用后即回收](https://zh.wikipedia.org/wiki/塗銷空間)的磁盘及内存空间。在沙盒中，网络访问、对真实系统的访问、对输入设备的读取通常被禁止或是严格限制。从这个角度来说，沙盒属于[虚拟化](https://zh.wikipedia.org/wiki/虚拟化)的一种。

沙盒中的所有改动对[操作系统](https://zh.wikipedia.org/wiki/操作系统)不会造成任何损失。通常，这种技术被[计算机](https://zh.wikipedia.org/wiki/电子计算机)技术人员广泛用于测试可能[带毒](https://zh.wikipedia.org/wiki/计算机病毒)的程序或是其他的[恶意代码](https://zh.wikipedia.org/wiki/恶意软件)[[2\]](https://zh.wikipedia.org/wiki/沙盒_(電腦安全)#cite_note-2)。

现在的集成式防火墙常含有云端沙盒，当本地静态分析无法办别时，就会去云端比对hash值，查看是否有相关情资，若为未发现过的可疑程序，则送入沙盒测试，并记录其行为模式;

简单来讲，沙盒给用户分配了不同的空间进行操作，来维持浏览器的稳定性，也方便了我们后期进行溯源。

[关于沙盒的详细内容可以查看wiki](https://zh.wikipedia.org/wiki/%E6%B2%99%E7%9B%92_(%E9%9B%BB%E8%85%A6%E5%AE%89%E5%85%A8))

## 1.3 恶意网址拦截

挂马，通常指黑客们在浏览器中插入恶意代码，从而达到利用漏洞的目的。通常的，挂马会通过标签来加载一个恶意网址，而浏览器为了防止这种情况的发生，推出了恶意网址拦截的功能，从而提高用户体验，也在一定程度上防止了钓鱼网站和挂马网站。恶意网址拦截大多使用黑名单机制，浏览器会周期性地从服务器取回黑名单，如果用户访问的网址存在于黑名单中，浏览器就会发出警告。浏览器并不会在前端对页面特征进行识别，这是一种低效且不安全的事情，黑客们可以通过分析识别模型来达到绕过，收集用户的信息也是违法的事情。

浏览器厂商通常会与专门的安全厂商合作，从安全厂商那里拿到黑名单来高效率警告危险网站。

## 小结

浏览器在我们的生活中有着重要的作用， 加深对浏览器的防护以及对恶意网址的过滤也至关重要，我们需要了解不同浏览器的特性，理解同源策略，才能达到利用或者是防止被利用的目的。重点理解同源策略，以及跨域请求，会对后面的XSS学习有帮助。

**如有不足或错误，请联系我进行纠正**
